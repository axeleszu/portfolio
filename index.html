<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Axel Escutia</title>
  <link rel="stylesheet" href="src/style.css">
</head>

<body class="mode-dev">
  <section class="hero-container">
    <div class="hero-video-wrapper">
      <video autoplay muted loop playsinline class="bg-video" poster="/img/poster.jpg">
        <source src="#" type="video/mp4">
      </video>
      <div class="video-overlay"></div>
    </div>
    <nav class="top-nav">
      <div class="toggle-container">
        <span class="label">MODE:</span>
        <button type="button" id="mode-switch" class="switch-btn" aria-label="Toggle Portfolio Mode">
          <span class="switch-text">DEV_OPS</span>
        </button>
      </div>
    </nav>
    <div class="hero-content">
      <h1 class="glitch-text" data-text="AXEL ESCUTIA">AXEL ESCUTIA</h1>
      <h2 class="hero-subtitle">FULL STACK ENGINEER <span class="accent">||</span> MULTIMEDIA PRODUCER</h2>
    </div>
  </section>
  <section class="bio-strip">
    <div class="bio-content">
      <div class="profile-photo">
        <img src="/img/AxelEscutia.png" alt="Axel Escutia Zubieta">
      </div>
      <div class="bio-text">
        <p>Integrating high-performance backend systems with production-quality visuals.</p>
        <div class="contact-links">
          <a href="mailto:axeleszu@gmail.com" class="link-item">axeleszu@gmail.com</a>
          <span class="separator">‚Ä¢</span>
          <a href="https://www.linkedin.com/in/axel-escutia/" class="link-item">LinkedIn</a>
        </div>
      </div>
      <div class="action-block">
        <a href="resume.pdf" class="btn-download">Download Resume</a>
      </div>
    </div>
  </section>
  <main class="bento-wrapper">
    <div class="bento-grid" id="project-grid">
      <article class="card col-2 row-2">
        <div data-category="dev">
          <div data-category="dev">
            <div class="card-header">
              <div class="header-top">
                <h3>FIRA Institutional Portal</h3>
                <span class="role-badge">Lead UI/UX &amp; Frontend</span>
              </div>
              <p class="subtitle">Complete Ecosystem Modernization</p>
            </div>
            <div class="blueprint-visual">
              <div class="ui-showcase-container">
                <div class="brand-glow"></div>
                <div class="ui-stack">
                  <div class="ui-card card-green">
                    <span class="card-icon"><img src="img/index-productores.svg" alt="SVG animation"></span>
                    <span class="card-label">Producci√≥n</span>
                  </div>
                  <div class="ui-card card-orange">
                    <span class="card-icon"><img src="img/index-agroempresas.svg" alt="SVG animation"></span>
                    <span class="card-label">AgroEmpresas</span>
                  </div>
                  <div class="ui-card card-blue">
                    <span class="card-icon"><img src="img/index-if.svg" alt="SVG animation"></span>
                    <span class="card-label">Intermediaci√≥n</span>
                  </div>
                </div>
              </div>
              <div class="specs-overlay">
                <div class="spec-item">
                  <span class="icon">üìê</span> 12 Responsive Breakpoints
                </div>
                <div class="spec-item">
                  <span class="icon">üëÅÔ∏è</span> WAI-AAA Accessible
                </div>
                <div class="spec-item">
                  <span class="icon">üåì</span> Dark Mode / Reduce-Motion
                </div>
              </div>
            </div>

            <div class="card-footer">
              <div class="stat-box">
                <span class="num">3</span>
                <span class="label">Target Audiences</span>
              </div>
              <div class="stat-box">
                <span class="num">70th</span>
                <span class="label">Anniversary Brand</span>
              </div>
              <button type="button" class="btn-details" onclick="document.getElementById('fira-modal').showModal()">View Case Study</button>
            </div>
          </div>
        </div>
        <div data-category="media" class="video-card">
          <div class="video-bg-placeholder">
            [ VIDEO LOOP: Hitos FIRA 70 Aniversario ]
          </div>
          <div class="overlay-title">Production Showreel</div>
        </div>
      </article>
      <article class="card col-2" data-category="mixed">
        <div class="card-content">
          <h3>The Lab</h3>
          <p>Game Dev</p>
        </div>
      </article>
      <article class="card stats-card">
        <div data-category="dev">
          <div class="github-view">
            <div class="card-header-mini">
              <h3><span class="icon">‚ö°</span> GitHub Activity</h3>
              <a href="https://github.com/axeleszu" target="_blank" class="link-arrow">‚Üó</a>
            </div>
            <div class="commit-graph" id="github-grid">
              <!-- GitHub contribution squares -->
            </div>

            <div class="meta-row">
              <small id="last-commit-text">Loading status...</small>
              <div class="legend">
                <span>Less</span>
                <div class="legend-squares">
                  <span class="l-0"></span><span class="l-1"></span><span class="l-2"></span><span class="l-3"></span>
                </div>
                <span>More</span>
              </div>
            </div>
          </div>
        </div>
        <div data-category="media" class="podcast-view">
          <h3>El Podcast de FIRA</h3>
          <div class="audio-waves">
            <span></span><span></span><span></span><span></span><span></span>
          </div>
          <small>Producer / Editor</small>
        </div>
      </article>

      <article class="card row-2 mobile-card">
        <div data-category="dev" class="pwa-view">
          <h3>Viveros Smart Access PWA</h3>
          <div class="card-header-center">
            <span class="pwa-badge"><span class="wifi-icon"></span> IoT Integration</span>
          </div>
          <div class="phone-mockup">
            <div class="notch"></div>
            <div class="screen">
              <div class="app-ui access-mode">
                <div class="app-header">
                  <div class="menu-btn"></div>
                  <div class="user-avatar"></div>
                </div>

                <div class="access-card">
                  <small>Main Gate Access</small>
                  <div class="qr-placeholder">
                    <!-- CSS Generated QR Pattern -->
                    <div class="qr-pattern"></div>
                    <div class="scan-line"></div>
                  </div>
                  <div class="timer">Scan the QR code</div>
                </div>
                <div class="action-area">
                  <p class="status-text">Connection: Secure</p>
                </div>
                <div class="toast-notification">
                  <span class="icon">üßæ</span> Payment Verified
                </div>
              </div>
            </div>
          </div>
          <div class="card-footer-center">
            <button type="button" class="btn-details" onclick="document.getElementById('viveros-modal').showModal()">
              IoT Specs
            </button>
          </div>
        </div>
        <div class="screen view-media video-vertical" data-category="media">
          [ Vertical Video: Agritech Nexus ]
        </div>
      </article>
      <article class="card row-2 col-3 stats-card">
        <div data-category="dev">

          <div class="card-header-mini">
            <h3>FIRA Cifras API</h3>

            <button type="button" class="btn-details" onclick="document.getElementById('cifras-modal').showModal()">
              Analysis Logic
            </button>
            <div class="viz-legend">
              <span class="dot saldo"></span> Saldo
              <span class="dot flujo"></span> Flujo
            </div>
          </div>

          <div class="svg-wrapper">
            <svg id="fira-cifras-svg" viewBox="0 0 300 150" preserveAspectRatio="none">
              <line x1="0" y1="140" x2="300" y2="140" stroke="#333" stroke-width="1"></line>
            </svg>

            <!-- Tooltip Container -->
            <div id="viz-tooltip" class="viz-tooltip hidden">
              <span class="tt-label">Month</span>
              <span class="tt-value">$0.00</span>
            </div>

            <div class="viz-status">
              <small id="api-status">Connecting to CORS Proxy...</small>
            </div>
          </div>
          <script src="src/firacifras.js"></script>
        </div>
        <div data-category="media">
          <h3>VFX Breakdown</h3>
          <div class="green-screen-icon">Keying</div>
        </div>
      </article>
      <article class="card legacy-card">
        <div data-category="dev" class="blueprint-view">
          <div class="card-header-horizontal">
            <div class="header-left">
              <h3>IEM Vote Tracking System</h3>
              <span class="sys-code">PROTOCOL: SILVME_ANONYMITY_V1</span>
            </div>
            <div class="header-right">
              <span class="tech-tag">PHP / MySQL</span>
              <span class="tech-tag">Hardware Integ.</span>
              <button type="button" class="btn-details" onclick="document.getElementById('iem-modal').showModal()">
                System Specs
              </button>
            </div>
          </div>

          <!-- The Barcode Visual -->
          <div class="scanner-container">
            <div class="barcode-wrapper">
              <!-- SVG Barcode -->
              <svg class="barcode-svg" viewBox="0 0 300 100">
                <g fill="#333">
                  <rect x="10" y="10" width="5" height="80"></rect>
                  <rect x="20" y="10" width="10" height="80"></rect>
                  <rect x="35" y="10" width="5" height="80"></rect>
                  <rect x="45" y="10" width="15" height="80"></rect>
                  <rect x="65" y="10" width="5" height="80"></rect>
                  <rect x="75" y="10" width="10" height="80"></rect>
                  <rect x="90" y="10" width="20" height="80"></rect>
                  <rect x="115" y="10" width="5" height="80"></rect>
                  <rect x="125" y="10" width="10" height="80"></rect>
                  <rect x="140" y="10" width="5" height="80"></rect>
                  <rect x="150" y="10" width="20" height="80"></rect>
                  <rect x="175" y="10" width="10" height="80"></rect>
                  <rect x="190" y="10" width="5" height="80"></rect>
                  <rect x="200" y="10" width="15" height="80"></rect>
                  <rect x="220" y="10" width="5" height="80"></rect>
                  <rect x="230" y="10" width="10" height="80"></rect>
                  <rect x="245" y="10" width="20" height="80"></rect>
                  <rect x="270" y="10" width="5" height="80"></rect>
                </g>
                <text x="150" y="110" text-anchor="middle" font-family="monospace" font-size="12" fill="#666">ID: 492-MX-EXT-VOTE</text>
              </svg>

              <div class="laser-beam"></div>
            </div>

            <div class="scan-log">
              <div class="log-line">&gt; Packet Received: 492-MX</div>
              <div class="log-line">&gt; Lookup: Valid Voter Reg.</div>
              <div class="log-line">&gt; Action: Update `status` = RECEIVED</div>
              <div class="log-line highlight">&gt; PRIVACY CHECK: VOTE SEPARATED</div>
            </div>
          </div>
        </div>
        <div data-category="media">
          <h3>CONAFE</h3>
          <p class="tiny-text">Educational Spots (Retro)</p>
          <div class="tv-static"></div>
        </div>
      </article>
      <article class="card row-2 mobile-card">
        <div class="phone-mockup" data-category="dev">
          <div class="notch"></div>
          <div class="screen view-dev">
            <div class="app-label">App Manual Promotor</div>
            <div class="pwa-badge">Offline Mode</div>
          </div>
        </div>
        <div class="screen" data-category="media">
          [ Video: Fertilizacion Optima ]
        </div>
      </article>
      <article class="card col-3 stack-card">
        <div data-category="dev" class="tech-grid">
          <span>JS</span> | <span>PHP</span>|
          <span>SQL</span> | <span>GIT</span>
        </div>
        <div data-category="media" class="tech-grid">
          <span>Photoshop</span> | <span>After Effects</span> |
          <span>Premiere</span> | <span>DaVinci Resolve</span> |
          <span>Adobe Audition</span> | <span>Adobe Illustrator</span>
        </div>
      </article>
      <article class="card col-2 contact-card">
        <div data-category="dev" class="terminal-view">
          <p class="prompt">&gt; Initiate_Contact_Protocol()</p>
          <form class="simple-form">
            <input type="email" placeholder="recruiter@company.com">
            <button type="submit" class="btn-details">SEND</button>
          </form>
        </div>
        <div data-category="media" class="contact-view">
          <p>For collaborations or inquiries, reach out at:</p>
          <a href="mailto:axeleszu@gmail.com">axeleszu@gmail.com</a>
        </div>
      </article>
    </div>
  </main>

  <dialog id="work-in-progress">
    <h2>Work in Progress</h2>
  </dialog>

  <!-- FIRA WWW MODAL -->
  <dialog id="fira-modal" class="modal-window">
    <div class="modal-content">

      <header class="modal-header">
        <div class="header-text">
          <small class="sys-code">PROJECT_ID: FIRA_RENEWAL_v70</small>
          <h2>FIRA Institutional Ecosystem</h2>
          <p class="role">Lead Frontend Architect &amp; UX Designer</p>
        </div>
        <button class="btn-close" type="button" onclick="document.getElementById('fira-modal').close()">√ó</button>
      </header>

      <div class="modal-body">

        <section class="case-section">
          <h3>01 // The Challenge</h3>
          <p>
            Update a massive legacy government platform to align with FIRA's 70th Anniversary.
            The goal was to transform a static repository into a <strong>dynamic promotional tool</strong>
            while strictly adhering to WAI-AAA accessibility standards and integrating with
            complex legacy Java/Oracle backends.
          </p>
        </section>

        <section class="case-section">
          <h3>02 // The Engineering</h3>
          <ul class="specs-grid">
            <li>
              <span class="icon">üì±</span>
              <div class="spec-detail">
                <strong>Extreme Responsiveness</strong>
                <p>Designed layouts for <strong>12 different viewports</strong> (Mobile to 4K), plus print styles. Included native support for Dark Mode and Reduce-Motion preferences.</p>
              </div>
            </li>
            <li>
              <span class="icon">üß©</span>
              <div class="spec-detail">
                <strong>Modular Architecture</strong>
                <p>Built a "Widget-first" homepage where content modules (News, Metrics, User Profile) load independently, reducing initial paint time.</p>
              </div>
            </li>
            <li>
              <span class="icon">üëÅÔ∏è</span>
              <div class="spec-detail">
                <strong>WAI-AAA Accessibility</strong>
                <p>Achieved the highest standard of web accessibility, ensuring usability for visually impaired stakeholders (Screen readers, contrast ratios).</p>
              </div>
            </li>
            <li>
              <span class="icon">üîí</span>
              <div class="spec-detail">
                <strong>Security Integration</strong>
                <p>Redesigned the frontend to interface securely with internal custom apps, delivering personalized content based on user profile.</p>
              </div>
            </li>
          </ul>
        </section>

        <section class="case-section">
          <h3>03 // The Impact</h3>
          <div class="impact-stats">
            <div class="stat">
              <span class="val">3</span>
              <span class="desc">Distinct User Profiles<br>(Producers, Agribusiness, Financial Intermediaries)</span>
            </div>
            <div class="stat">
              <span class="val">Sec+</span>
              <span class="desc">Enhanced Data<br>Privacy Protocols</span>
            </div>
            <div class="stat">
              <span class="val">UX</span>
              <span class="desc">Unified Experience<br>Across Mobile &amp; Desktop</span>
            </div>
          </div>
        </section>

      </div>
      <footer class="modal-footer">
        <span>STACK:</span>
        <div class="tags">
          <span class="tag">HTML5</span>
          <span class="tag">CSS3 (Grid/Flex)</span>
          <span class="tag">JavaScript (ES6+)</span>
          <span class="tag">Java Backend (Servlets)</span>
          <span class="tag">SAP DB</span>
        </div>
      </footer>

    </div>
  </dialog>

  <!-- FIRA CIFRAS (DATA) MODAL -->
  <dialog id="cifras-modal" class="modal-window">
    <div class="modal-content">

      <header class="modal-header">
        <div class="header-text">
          <small class="sys-code">PROJECT_ID: FIN_DATA_ENGINE_v1</small>
          <h2>FIRA Financial Dashboard</h2>
          <p class="role">Data Visualization &amp; Algorithmic Logic</p>
        </div>
        <button class="btn-close" type="button" onclick="document.getElementById('cifras-modal').close()">√ó</button>
      </header>

      <div class="modal-body">

        <section class="case-section">
          <h3>01 // The Challenge</h3>
          <p>
            FIRA required a way to visualize massive amounts of historical financial data (Balance Sheets vs. Cash Flow) that lived in disconnected CSV dumps.
            The challenge was to build a **lightweight, dependency-free engine** capable of parsing, merging, and visualizing 10+ years of monthly records instantly on the client side, without straining the legacy backend.
          </p>
        </section>

        <section class="case-section">
          <h3>02 // The Engineering</h3>
          <ul class="specs-grid">
            <li>
              <span class="icon">üî¢</span>
              <div class="spec-detail">
                <strong>Algorithmic Prototype</strong>
                <p>Developed a custom <code>Number.prototype.formatMoney</code> extension to handle Mexican currency localization, large number suffixes (millions/mdp), and floating-point precision efficiently.</p>
              </div>
            </li>
            <li>
              <span class="icon">‚ö°</span>
              <div class="spec-detail">
                <strong>Client-Side ETL</strong>
                <p>Built a Vanilla JS parser that fetches raw CSVs, cleans dirty data, and performs "Year-over-Year" aggregation in milliseconds within the browser thread.</p>
              </div>
            </li>
            <li>
              <span class="icon">üìä</span>
              <div class="spec-detail">
                <strong>Combo-Chart Visualization</strong>
                <p>Engineered a custom SVG rendering system that layers Bar Charts (Balance) and Line Graphs (Flow) on a shared coordinate system, handling dynamic scaling automatically.</p>
              </div>
            </li>
            <li>
              <span class="icon">üìâ</span>
              <div class="spec-detail">
                <strong>Legacy Compatibility</strong>
                <p>Written in pure JavaScript to ensure compatibility with strict government browser requirements.</p>
              </div>
            </li>
            <li>
              <span class="icon">üõ†Ô∏è</span>
              <div class="spec-detail">
                <strong>Regulatory Compliance &amp; UX</strong>
                <p>Capitalized on "Datos Abiertos" transparency policies to drive engagement. Converted legal requirements for monthly data publication into a compelling visual experience.</p>
              </div>
            </li>
          </ul>
        </section>

        <section class="case-section">
          <h3>03 // The Impact</h3>
          <div class="impact-stats">
            <div class="stat">
              <span class="val">0ms</span>
              <span class="desc">Backend Latency<br>(Pure Client-Side)</span>
            </div>
            <div class="stat">
              <span class="val">10yr</span>
              <span class="desc">Historical Data<br>Correlation</span>
            </div>
            <div class="stat">
              <span class="val">100%</span>
              <span class="desc">Audit Accuracy<br>vs Official Reports</span>
            </div>
          </div>
        </section>

      </div>

      <footer class="modal-footer">
        <span>STACK:</span>
        <div class="tags">
          <span class="tag">Vanilla JS</span>
          <span class="tag">Prototype Pattern</span>
          <span class="tag">SVG DOM Manipulation</span>
          <span class="tag">CSV Parsing</span>
          <span class="tag">Async/Await</span>
        </div>
      </footer>

    </div>
  </dialog>

  <!-- IEM SYSTEM MODAL -->
  <dialog id="iem-modal" class="modal-window">
    <div class="modal-content">

      <header class="modal-header">
        <div class="header-text">
          <small class="sys-code">PROJECT_ID: MICHOACAN_VOTE_2011</small>
          <h2>International Voting Logistics System</h2>
          <p class="role">Web & Field Operations Specialist</p>
        </div>
        <button class="btn-close" type="button" onclick="document.getElementById('iem-modal').close()">√ó</button>
      </header>

      <div class="modal-body">

        <section class="case-section">
          <h3>01 // The Challenge</h3>
          <p>
            Orchestrate the logistics for Michoac√°n's migrant voting process (USA/Europe).
            The critical requirement was to create a <strong>Physical-to-Digital Bridge</strong> that could track
            the return of ballot packages via mail without compromising the constitutional right to a secret ballot.
          </p>
        </section>

        <section class="case-section">
          <h3>02 // The Engineering</h3>
          <ul class="specs-grid">
            <li>
              <span class="icon">üì¶</span>
              <div class="spec-detail">
                <strong>Barcode Architecture</strong>
                <p>Designed a custom barcode system printed on the <em>outer</em> return envelope. This allowed us to scan and log receipt in the database while the inner ballot envelope remained sealed and anonymous.</p>
              </div>
            </li>
            <li>
              <span class="icon">üóÑÔ∏è</span>
              <div class="spec-detail">
                <strong>MySQL Sync</strong>
                <p>Built the PHP/MySQL registry (SILVME) that reconciled physical scans with the digital voter roll, preventing double-voting and generating real-time participation stats.</p>
              </div>
            </li>
            <li>
              <span class="icon">üíø</span>
              <div class="spec-detail">
                <strong>Multimedia Production</strong>
                <p>Produced the instructional DVD media kit. Managed design, production, duplication and postal logistics.</p>
              </div>
            </li>
          </ul>
        </section>

        <section class="case-section">
          <h3>03 // The Impact</h3>
          <div class="impact-stats">
            <div class="stat">
              <span class="val">100%</span>
              <span class="desc">Vote Anonymity<br>Maintained</span>
            </div>
            <div class="stat">
              <span class="val">Logistics</span>
              <span class="desc">Coordinated<br>Transnational Mail</span>
            </div>
            <div class="stat">
              <span class="val">Legacy</span>
              <span class="desc">Foundation for<br>Future E-Voting</span>
            </div>
          </div>
        </section>

      </div>

      <footer class="modal-footer">
        <span>STACK:</span>
        <div class="tags">
          <span class="tag">PHP 5</span>
          <span class="tag">MySQL</span>
          <span class="tag">Barcode Hardware</span>
          <span class="tag">Adobe Premiere</span>
          <span class="tag">Logistics</span>
        </div>
      </footer>

    </div>
  </dialog>

  <dialog id="viveros-modal" class="modal-window">
    <div class="modal-content">

      <header class="modal-header">
        <div class="header-text">
          <small class="sys-code">PROJECT_ID: IOT_ACCESS_CONTROL</small>
          <h2>Condominio Viveros: Smart Access</h2>
          <p class="role">Full Stack Architect (PWA + IoT)</p>
        </div>
        <button class="btn-close" type="button" onclick="document.getElementById('viveros-modal').close()">√ó</button>
      </header>

      <div class="modal-body">

        <section class="case-section">
          <h3>01 // The Challenge</h3>
          <p>
            Managing operations for nearly 100 tenants required a unified digital ecosystem.
            Administratively, the community needed a transparent way to handle <strong>HOA fees, meeting agreements, and official notices</strong>.
          </p>
          <p>
            Technically, the challenge was to modernize physical security by eliminating the need for hardware remotes.
            The goal was to engineer a <strong>secure IoT gateway</strong> that allows tenants to grant time-limited access to visitors via smartphone, ensuring convenience without compromising the perimeter. Keeping simplicity and ease of use was paramount.
          </p>
        </section>

        <section class="case-section">
          <h3>02 // The Engineering</h3>
          <ul class="specs-grid">
            <li>
              <span class="icon">üîì</span>
              <div class="spec-detail">
                <strong>Web-to-Physical Bridge</strong>
                <p>Built a secure handshake protocol where the PWA communicates with the Gate Controller via <strong>Webhooks/MQTT</strong>. Scanning the QR triggers a real-time signal to open the solenoid lock.</p>
              </div>
            </li>
            <li>
              <span class="icon">üì∑</span>
              <div class="spec-detail">
                <strong>Browser-Based Scanning</strong>
                <p>Implemented a QR scanner directly in the browser using JS libraries, allowing visitors to authenticate and trigger the gate without installing native apps.</p>
              </div>
            </li>
            <li>
              <span class="icon">üßæ</span>
              <div class="spec-detail">
                <strong>Fiscal Integration</strong>
                <p>Tenants can view and download PDF digital receipts generated dynamically upon payment verification, creating an automated audit trail.</p>
              </div>
            </li>
          </ul>
        </section>

        <section class="case-section">
          <h3>03 // The Impact</h3>
          <div class="impact-stats">
            <div class="stat">
              <span class="val">Hardware</span>
              <span class="desc">Eliminated cost<br>of physical remotes</span>
            </div>
            <div class="stat">
              <span class="val">Security</span>
              <span class="desc">Dynamic QRs<br>prevent cloning</span>
            </div>
            <div class="stat">
              <span class="val">IoT</span>
              <span class="desc">Seamless Web<br>to Real-World Action</span>
            </div>
          </div>
        </section>

      </div>

      <footer class="modal-footer">
        <span>STACK:</span>
        <div class="tags">
          <span class="tag">Firebase</span>
          <span class="tag">Supabase</span>
          <span class="tag">IoT Webhooks</span>
          <span class="tag">QR Generation</span>
          <span class="tag">Camera API</span>
          <span class="tag">PWA</span>
        </div>
      </footer>

    </div>
  </dialog>

  <script>
    function setMode(mode) {
      document.body.className = 'mode-' + mode;
    }
    let currentMode = 'dev';
    document.getElementById('mode-switch').addEventListener('click', () => {
      currentMode = currentMode === 'dev' ? 'media' : 'dev';
      setMode(currentMode);
    });
    setMode(currentMode);

    const firaModal = document.getElementById('fira-modal');

    firaModal.addEventListener('click', (event) => {
      if (event.target === firaModal) {
        firaModal.close();
      }
    });

    const iemModal = document.getElementById('iem-modal');
    if (iemModal) {
      iemModal.addEventListener('click', (e) => {
        if (e.target === iemModal) iemModal.close();
      });
    }
    async function initGithubWidget() {
      const grid = document.getElementById('github-grid');
      const statusText = document.getElementById('last-commit-text');
      const username = 'axeleszu';

      for (let i = 0; i < 50; i++) {
        const square = document.createElement('div');
        square.classList.add('pixel');

        const rand = Math.random();
        let level = 0;
        if (rand > 0.9) level = 4;
        else if (rand > 0.7) level = 3;
        else if (rand > 0.5) level = 2;
        else if (rand > 0.3) level = 1;

        square.classList.add(`level-${level}`);
        grid.appendChild(square);
      }
      try {
        const response = await fetch(`https://api.github.com/users/${username}/events/public`);
        if (!response.ok) throw new Error('GitHub API Error');

        const events = await response.json();
        const pushEvent = events.find(e => e.type === 'PushEvent');

        if (pushEvent) {
          const date = new Date(pushEvent.created_at);
          const timeAgo = timeSince(date);
          statusText.innerText = `Latest commit: ${timeAgo} ago`;
          statusText.style.color = '#39d353';
        } else {
          statusText.innerText = 'No recent public commits';
        }
      } catch (error) {
        statusText.innerText = 'GitHub System: Offline';
        console.error(error);
      }
    }

    function timeSince(date) {
      const seconds = Math.floor((new Date() - date) / 1000);
      let interval = seconds / 31536000;
      if (interval > 1) return Math.floor(interval) + "y";
      interval = seconds / 2592000;
      if (interval > 1) return Math.floor(interval) + "mo";
      interval = seconds / 86400;
      if (interval > 1) return Math.floor(interval) + "d";
      interval = seconds / 3600;
      if (interval > 1) return Math.floor(interval) + "h";
      interval = seconds / 60;
      if (interval > 1) return Math.floor(interval) + "m";
      return Math.floor(seconds) + "s";
    }

    initGithubWidget();
  </script>

  <script type="module" src="src/main.js"></script>
</body>

</html>